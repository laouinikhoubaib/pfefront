
<div class="loader-container" *ngIf="isLoading">
    <div class="loader">
        <svg class="fullscreen-loader" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 254.532 254.532" xml:space="preserve">
		<g>
			<path id="tire" d="M127.267,0C57.092,0,0,57.091,0,127.266s57.092,127.266,127.267,127.266c70.174,0,127.266-57.091,127.266-127.266
				S197.44,0,127.267,0z M127.267,217.656c-49.922,0-90.391-40.468-90.391-90.39s40.469-90.39,90.391-90.39
				c49.92,0,90.39,40.468,90.39,90.39S177.186,217.656,127.267,217.656z"></path>
            <path id="rim" d="M127.267,48.578c-43.39,0-78.689,35.299-78.689,78.688c0,43.389,35.3,78.688,78.689,78.688
				c43.389,0,78.688-35.299,78.688-78.688C205.955,83.877,170.655,48.578,127.267,48.578z M195.878,122.249h-38.18
				c-0.78-4.825-2.686-9.275-5.435-13.079l26.954-26.954C188.679,93.112,194.771,106.996,195.878,122.249z M132.204,58.648
				c15.244,1.087,29.123,7.156,40.025,16.591l-26.948,26.949c-3.804-2.748-8.253-4.653-13.077-5.433V58.648z M122.329,58.648v38.106
				c-4.824,0.78-9.274,2.685-13.078,5.434L82.302,75.24C93.204,65.805,107.085,59.735,122.329,58.648z M75.313,82.217l26.955,26.954
				c-2.749,3.803-4.654,8.253-5.434,13.077h-38.18C59.761,106.996,65.853,93.113,75.313,82.217z M58.643,132.123h38.192
				c0.779,4.824,2.685,9.274,5.434,13.078l-27.029,27.029C65.788,161.308,59.714,147.398,58.643,132.123z M122.329,195.884
				c-15.285-1.09-29.197-7.188-40.113-16.666l27.035-27.035c3.804,2.749,8.254,4.654,13.078,5.434V195.884z M122.329,147.459v0.072
				c-2.131-0.518-4.131-1.36-5.953-2.474l0.047-0.047c-2.85-1.738-5.244-4.132-6.982-6.983l-0.046,0.046
				c-1.114-1.822-1.956-3.821-2.474-5.952h0.071c-0.385-1.585-0.611-3.233-0.611-4.937c0-1.704,0.227-3.352,0.611-4.937h-0.071
				c0.518-2.13,1.359-4.129,2.474-5.951l0.046,0.046c1.738-2.85,4.133-5.245,6.982-6.982l-0.047-0.047
				c1.822-1.114,3.822-1.957,5.953-2.474v0.072c1.586-0.385,3.233-0.612,4.938-0.612s3.352,0.227,4.938,0.612v-0.072
				c2.131,0.518,4.13,1.359,5.951,2.473l-0.047,0.047c2.851,1.737,5.245,4.132,6.983,6.982l0.046-0.046
				c1.115,1.822,1.957,3.822,2.475,5.953h-0.071c0.385,1.585,0.611,3.233,0.611,4.937c0,1.704-0.227,3.352-0.611,4.937h0.071
				c-0.518,2.131-1.359,4.131-2.475,5.953l-0.046-0.046c-1.738,2.85-4.133,5.244-6.983,6.982l0.047,0.046
				c-1.821,1.114-3.82,1.956-5.951,2.474v-0.072c-1.586,0.385-3.233,0.612-4.938,0.612S123.915,147.845,122.329,147.459z
				M132.204,195.884v-38.267c4.824-0.78,9.273-2.685,13.077-5.433l27.034,27.034C161.4,188.696,147.488,194.794,132.204,195.884z
				M179.292,172.23l-27.028-27.028c2.749-3.804,4.654-8.254,5.435-13.079h38.191C194.818,147.398,188.745,161.308,179.292,172.23z"></path>
		</g>
		</svg>
        <div class="road"></div>
    </div>
</div>
<div class="container-fluid  position-sticky z-index-sticky top-0" >
    <div class="row" >
        <div class="col-12" >
            <nav class="navbar navbar-expand-lg  blur border-radius-xl top-0 z-index-3 shadow position-absolute my-3 py-2 start-0 end-0 mx-4 " >
                <div class="container-fluid px-0">
                    <a class="navbar-brand ps-2 d-flex justify-content-between cursor-pointer align-items-center " routerLink="" >
                        <i class="material-icons opacity-6 me-1 text-md">home</i>
                        Home
                    </a>
                    <a class="navbar-brand ps-2 d-flex justify-content-between cursor-pointer align-items-center " routerLink="/admin"  *ngIf="currentUser?.role == 'ADMIN'">
                        <i class="material-icons opacity-6 me-1 text-md">dashboard</i>
                        Admin Dashboard
                    </a>
                    <a class="navbar-brand ps-2 d-flex justify-content-between cursor-pointer align-items-center " routerLink="/adminfranchise" *ngIf="currentUser?.role == 'ADMIN_FRANCHISE'">
                        <i class="material-icons opacity-6 me-1 text-md">dashboard</i>
                        Dashboard
                    </a>

                    <a class="navbar-brand ps-2 d-flex justify-content-between cursor-pointer align-items-center " routerLink="/superadmin"  *ngIf="currentUser?.role == 'SUPERADMIN'">
                        <i class="material-icons opacity-6 me-1 text-md">dashboard</i>
                        Super Admin Dashboard
                    </a>

                    <a href="https://www.creative-tim.com/product/material-kit-pro#pricingCard" class="btn btn-sm  bg-gradient-primary  mb-0 ms-auto d-lg-none d-block">Buy Now</a>
                    <button class="navbar-toggler shadow-none ms-md-2" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon mt-2">
<span class="navbar-toggler-bar bar1"></span>
<span class="navbar-toggler-bar bar2"></span>
<span class="navbar-toggler-bar bar3"></span>
</span>
                    </button>
                    <div class="collapse navbar-collapse w-100 pt-3 pb-2 py-lg-0" id="navigation">
                        <ul class="navbar-nav navbar-nav-hover ms-auto">
                            <li class="nav-item dropdown dropdown-hover mx-2">
                                <a role="button" class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="material-icons opacity-6 me-2 text-md">view_day</i>
                                    <a class="dropdown-header text-dark font-weight-bolder d-flex justify-content-cente align-items-center p-0" routerLink="/forum">Forum</a>
                                    <img src="assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-1 d-lg-none d-block ms-auto">
                                </a>
                            </li>

                            <li class="nav-item dropdown dropdown-hover mx-2">
                                <a role="button" class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false"routerLink="/listVehiculesUtilitaires">
                                    <i class="material-icons opacity-6 me-2 text-md">view_day</i>
                                   Location utilitaire
                                    <img src="assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-2 d-lg-block d-none">
                                    <img src="assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-1 d-lg-none d-block ms-auto">
                                </a>
                            </li>

                            <li class="nav-item dropdown dropdown-hover mx-2">
                                <a role="button" class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false" routerLink="/listVehiculesVoitures">
                                    <i class="material-icons opacity-6 me-2 text-md">view_day</i>
                                    Locations voiture
                                    <img src="assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-2 d-lg-block d-none">
                                    <img src="assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-1 d-lg-none d-block ms-auto">
                                </a>
                            </li>

                            <li class="nav-item dropdown dropdown-hover mx-2">
                                <a role="button" class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false" >
                                    Agences
                                </a>
                            </li>

                            <li class="nav-item dropdown dropdown-hover mx-2">
                                <a role="button" class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false" routerLink="/calendrier">
                                    Calendrier
                                </a>
                            </li>

                            <li class="nav-item dropdown dropdown-hover mx-2" *ngIf="!currentUser?.userId">
                                <a class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center"
                                   (click)="redirectTo()" routerLinkActive="active" >
                                    <i class="material-icons opacity-6 me-2 text-md">login</i>
                                    Sign in
                                </a>
                            </li>


                            <li class="nav-item dropdown dropdown-hover mx-2" *ngIf="currentUser?.userId">
                                <a class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center"
                                   routerLink="profil" >
                                    <img alt="Profil Picture" src="assets/img/{{currentUser.profilPic}}" class="avatar avatar-xs rounded-circle mx-2">
                                    {{currentUser.username}}
                                </a>
                            </li>
                            <li class="nav-item dropdown dropdown-hover mx-2" *ngIf="currentUser?.userId">
                                <a role="button" class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center" id="dropdownMenuDocs" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="material-icons opacity-6">notifications</i>
                                    <span class="badge rounded-pill bg-dark" *ngIf="notificationList.length != 0">{{notificationList.length}}</span>
                                    <img src="assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-1 d-lg-none d-block ms-auto">
                                </a>
                                <div class="dropdown-menu dropdown-menu-end dropdown-menu-animation dropdown-md mt-0 mt-lg-3 p-3 border-radius-lg" aria-labelledby="dropdownMenuDocs" *ngIf="notificationList.length != 0">
                                    <div class="d-none d-lg-block">
                                        <ul class="list-group">
                                            <li class="nav-item list-group-item border-0 p-0" *ngFor="let notif of notificationList">
      <span class="dropdown-item py-2 ps-3 border-radius-md">
        <h6 class="dropdown-header text-dark font-weight-bolder d-flex justify-content-center align-items-center p-0">
          <i class="fa fa-circle fa-xs me-3 mt-3" style="color: #1770e6" *ngIf="!notif.read"></i>{{notif.message}}
        </h6>
        <span class="text-sm ms-4">
          {{notif.createdAt}} <i class="fa fa-clock ms-1"></i>
          <a (click)="markAsRead(notif.notificationId)" *ngIf="!notif.read"><i class="fa fa-eye ms-5 me-2"></i>Mark as read</a>
          <a (click)="markAsUnRead(notif.notificationId)" *ngIf="notif.read"><i class="fa fa-eye-slash ms-5 me-2"></i>Mark as Unread</a>
          <button type="button" class="btn btn-link ms-5 me-2" (click)="onDeleteNotification(notif.notificationId)"><i class="fa fa-times-circle text-danger"></i></button>
        </span>
      </span>
                                            </li>
                                        </ul>
                                    </div>

                                </div>
                            </li>

                            <li class="nav-item dropdown dropdown-hover mx-2" *ngIf="currentUser?.userId">
                                <a class="nav-link ps-2 d-flex justify-content-between cursor-pointer align-items-center"
                                   (click)="logOut()" >
                                    <i class="material-icons opacity-6 me-2 text-md">logout</i>
                                    Déconnexion
                                </a>
                            </li>



                        </ul>

                    </div>
                </div>
            </nav>

        </div>
    </div>
</div>



<!-- Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModal" aria-hidden="true">
    <div class="modal-dialog modal-danger modal-dialog-centered modal-" role="document">
        <div class="modal-content">
            <div class="modal-body p-0">
                <div class="card card-plain">
                    <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                        <div class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1 text-center py-4">
                            <h4 class="font-weight-bolder text-white mt-1">Modifier mon profil</h4>
                            <p class="mb-1 text-white text-sm">Modifier les renseignements sur votre compte</p>
                        </div>
                    </div>


                    <div class="card-body">
                        <form role="form" #f="ngForm" (ngSubmit)="f.form.valid && editProfile()">
                            <div class="row justify-space-between text-center py-2">
                                <p class="text-sm font-weight-bold text-secondary text-border d-inline z-index-2 bg-white px-3">
                                    Informations personnelles
                                </p>
                            </div>

                            <div class="input-group input-group-static">
                                <label>Username</label>
                                <input type="Username" class="form-control" id="Username" name="Username" placeholder="Username" [(ngModel)]="currentUser.username" #name="ngModel" >
                            </div>
                            <div class="input-group input-group-static">
                                <label>Email</label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="Email" [(ngModel)]="currentUser.email" #name="ngModel" >
                            </div>


                            <div class="input-group input-group-static">
                                <label>Picture</label>
                                <input class="form-control" type="file" id="formFile">
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0">Confirmer</button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

